var snTable=function(){"use strict";var n,t=(function(n){n.exports=function(){var l="millisecond",h="second",p="minute",f="hour",v="day",g="week",y="month",d="quarter",b="year",$="date",o=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,n={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},a=function(n,e,t){var r=String(n);return!r||r.length>=e?n:""+Array(e+1-r.length).join(t)+n},e={s:a,z:function(n){var e=-n.utcOffset(),t=Math.abs(e),r=Math.floor(t/60),i=t%60;return(e<=0?"+":"-")+a(r,2,"0")+":"+a(i,2,"0")},m:function n(e,t){if(e.date()<t.date())return-n(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,y),a=t-i<0,o=e.clone().add(r+(a?-1:1),y);return+(-(r+(t-i)/(a?i-o:o-i))||0)},a:function(n){return n<0?Math.ceil(n)||0:Math.floor(n)},p:function(n){return{M:y,y:b,w:g,d:v,D:$,h:f,m:p,s:h,ms:l,Q:d}[n]||String(n||"").toLowerCase().replace(/s$/,"")},u:function(n){return void 0===n}},s="en",c={};c[s]=n;var r=function(n){return n instanceof m},i=function(n,e,t){var r;if(!n)return s;if("string"==typeof n)c[n]&&(r=n),e&&(c[n]=e,r=n);else{var i=n.name;c[i]=n,r=i}return!t&&r&&(s=r),r||!t&&s},u=function(n,e){if(r(n))return n.clone();var t="object"==typeof e?e:{};return t.date=n,t.args=arguments,new m(t)},_=e;_.l=i,_.i=r,_.w=function(n,e){return u(n,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var m=function(){function n(n){this.$L=i(n.locale,null,!0),this.parse(n)}var e=n.prototype;return e.parse=function(n){this.$d=function(n){var e=n.date,t=n.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(o);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return t?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(e)}(n),this.$x=n.x||{},this.init()},e.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},e.$utils=function(){return _},e.isValid=function(){return!("Invalid Date"===this.$d.toString())},e.isSame=function(n,e){var t=u(n);return this.startOf(e)<=t&&t<=this.endOf(e)},e.isAfter=function(n,e){return u(n)<this.startOf(e)},e.isBefore=function(n,e){return this.endOf(e)<u(n)},e.$g=function(n,e,t){return _.u(n)?this[e]:this.set(t,n)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(n,e){var r=this,i=!!_.u(e)||e,t=_.p(n),a=function(n,e){var t=_.w(r.$u?Date.UTC(r.$y,e,n):new Date(r.$y,e,n),r);return i?t:t.endOf(v)},o=function(n,e){return _.w(r.toDate()[n].apply(r.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},s=this.$W,l=this.$M,d=this.$D,c="set"+(this.$u?"UTC":"");switch(t){case b:return i?a(1,0):a(31,11);case y:return i?a(1,l):a(0,l+1);case g:var u=this.$locale().weekStart||0,m=(s<u?s+7:s)-u;return a(i?d-m:d+(6-m),l);case v:case $:return o(c+"Hours",0);case f:return o(c+"Minutes",1);case p:return o(c+"Seconds",2);case h:return o(c+"Milliseconds",3);default:return this.clone()}},e.endOf=function(n){return this.startOf(n,!1)},e.$set=function(n,e){var t,r=_.p(n),i="set"+(this.$u?"UTC":""),a=(t={},t[v]=i+"Date",t[$]=i+"Date",t[y]=i+"Month",t[b]=i+"FullYear",t[f]=i+"Hours",t[p]=i+"Minutes",t[h]=i+"Seconds",t[l]=i+"Milliseconds",t)[r],o=r===v?this.$D+(e-this.$W):e;if(r===y||r===b){var s=this.clone().set($,1);s.$d[a](o),s.init(),this.$d=s.set($,Math.min(this.$D,s.daysInMonth())).$d}else a&&this.$d[a](o);return this.init(),this},e.set=function(n,e){return this.clone().$set(n,e)},e.get=function(n){return this[_.p(n)]()},e.add=function(t,n){var e,r=this;t=Number(t);var i=_.p(n),a=function(n){var e=u(r);return _.w(e.date(e.date()+Math.round(n*t)),r)};if(i===y)return this.set(y,this.$M+t);if(i===b)return this.set(b,this.$y+t);if(i===v)return a(1);if(i===g)return a(7);var o=(e={},e[p]=6e4,e[f]=36e5,e[h]=1e3,e)[i]||1,s=this.$d.getTime()+t*o;return _.w(s,this)},e.subtract=function(n,e){return this.add(-1*n,e)},e.format=function(n){var i=this;if(!this.isValid())return"Invalid Date";var a=n||"YYYY-MM-DDTHH:mm:ssZ",t=_.z(this),e=this.$locale(),r=this.$H,o=this.$m,s=this.$M,l=e.weekdays,d=e.months,c=function(n,e,t,r){return n&&(n[e]||n(i,a))||t[e].substr(0,r)},u=function(n){return _.s(r%12||12,n,"0")},m=e.meridiem||function(n,e,t){var r=n<12?"AM":"PM";return t?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:_.s(s+1,2,"0"),MMM:c(e.monthsShort,s,d,3),MMMM:c(d,s),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:c(e.weekdaysMin,this.$W,l,2),ddd:c(e.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:_.s(r,2,"0"),h:u(1),hh:u(2),a:m(r,o,!0),A:m(r,o,!1),m:String(o),mm:_.s(o,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:t};return a.replace(S,function(n,e){return e||h[n]||t.replace(":","")})},e.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},e.diff=function(n,e,t){var r,i=_.p(e),a=u(n),o=6e4*(a.utcOffset()-this.utcOffset()),s=this-a,l=_.m(this,a);return l=(r={},r[b]=l/12,r[y]=l,r[d]=l/3,r[g]=(s-o)/6048e5,r[v]=(s-o)/864e5,r[f]=s/36e5,r[p]=s/6e4,r[h]=s/1e3,r)[i]||s,t?l:_.a(l)},e.daysInMonth=function(){return this.endOf(y).$D},e.$locale=function(){return c[this.$L]},e.locale=function(n,e){if(!n)return this.$L;var t=this.clone(),r=i(n,e,!0);return r&&(t.$L=r),t},e.clone=function(){return _.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},n}(),t=m.prototype;return u.prototype=t,[["$ms",l],["$s",h],["$m",p],["$H",f],["$W",v],["$M",y],["$y",b],["$D",$]].forEach(function(e){t[e[1]]=function(n){return this.$g(n,e[0],e[1])}}),u.extend=function(n,e){return n.$i||(n(e,m,u),n.$i=!0),u},u.locale=i,u.isDayjs=r,u.unix=function(n){return u(1e3*n)},u.en=c[s],u.Ls=c,u.p={},u}()}(n={exports:{}}),n.exports);function s(n){n.label&&n.key||console.error("筛选条件的每一项都要有 label 和 key 字段")}function l(n,e){switch(e){case"checkbox":return n||[];case"date":return t(n).format("YYYY-MM-DD HH:mm:ss");default:return n}}var e={input:"el-input",select:"sn-select",date:"el-date-picker",textarea:"sn-textarea",radio:"sn-radio",checkbox:"sn-checkbox"};function r(n){var e={};return(n||[]).reduce((n,e)=>(s(e),n[e.key]=l(e.value,e.type),n),e),e}var i={name:"SnTextarea",components:{},props:{value:{type:[String],default:""},placeholder:{type:[String],default:""}},data:function(){return{}},watch:{},created:function(){},mounted:function(){},methods:{}};function a(n,e,t,r,i,a,o,s,l,d){"boolean"!=typeof o&&(l=s,s=o,o=!1);const c="function"==typeof t?t.options:t;n&&n.render&&(c.render=n.render,c.staticRenderFns=n.staticRenderFns,c._compiled=!0,i&&(c.functional=!0)),r&&(c._scopeId=r);let u;if(a?(u=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,l(n)),n&&n._registeredComponents&&n._registeredComponents.add(a)},c._ssrRegister=u):e&&(u=o?function(n){e.call(this,d(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,s(n))}),u)if(c.functional){const m=c.render;c.render=function(n,e){return u.call(e),m(n,e)}}else{o=c.beforeCreate;c.beforeCreate=o?[].concat(o,u):[u]}return t}const o="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function d(n){return(n,e)=>function(e,t){const n=o?t.media||"default":e,r=u[n]||(u[n]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);let n=t.source;var i;t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===c&&(c=document.head||document.getElementsByTagName("head")[0]),c.appendChild(r.element)),"styleSheet"in r.element?(r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n")):(i=r.ids.size-1,e=document.createTextNode(n),(t=r.element.childNodes)[i]&&r.element.removeChild(t[i]),t.length?r.element.insertBefore(e,t[i]):r.element.appendChild(e))}}(n,e)}let c;const u={};var m=i,h=function(){var e=this,n=e.$createElement;return(e._self._c||n)("el-input",{attrs:{value:e.value,placeholder:e.placeholder||"请选择",type:"textarea"},on:{input:function(n){return e.$emit("input",n)}}})},p=(h._withStripped=!0,a({render:h,staticRenderFns:[]},function(n){n&&n("data-v-d5e204ae_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"textarea.vue"},media:void 0})},m,"data-v-d5e204ae",!1,void 0,!1,d,void 0,void 0)),f={name:"SnRadio",components:{},props:{value:{type:[String,Number,Array],default:""},options:{type:Array,default:()=>[]}},data:function(){return{}},watch:{},created:function(){},mounted:function(){},methods:{onChange:function(n){this.$emit("input",n)}}},i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-radio-group",{staticClass:"radio",attrs:{value:e.value},on:{input:e.onChange}},e._l(e.options,function(n){return t("el-radio",{key:n.value,attrs:{label:n.value}},[e._v(e._s(n.label))])}),1)},h=(i._withStripped=!0,a({render:i,staticRenderFns:[]},function(n){n&&n("data-v-bc489f6a_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"radio.vue"},media:void 0})},f,"data-v-bc489f6a",!1,void 0,!1,d,void 0,void 0)),m={name:"SnCheckbox",components:{},props:{value:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},data:function(){return{}},watch:{},created:function(){},mounted:function(){},methods:{}},i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("el-checkbox-group",{staticClass:"checkbox",attrs:{value:e.value},on:{input:function(n){return e.$emit("input",n)}}},e._l(e.options,function(n){return t("el-checkbox",{key:n.value,attrs:{label:n.value}},[e._v(e._s(n.label))])}),1)},f=(i._withStripped=!0,a({render:i,staticRenderFns:[]},function(n){n&&n("data-v-46f5cf9a_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"checkbox.vue"},media:void 0})},m,"data-v-46f5cf9a",!1,void 0,!1,d,void 0,void 0)),i={name:"SnSelect",components:{},props:{value:{type:[String,Number,Array],default:""},options:{type:Array,default:()=>[]},filterable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{}},watch:{},created:function(){},mounted:function(){},methods:{onChange:function(n){this.$emit("input",n)}}},m=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-select",{staticClass:"radio",attrs:{value:n.value,filterable:n.filterable,disabled:n.disabled},on:{input:n.onChange}},n._l(n.options,function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}),1)},p=(m._withStripped=!0,{name:"DynamicsForm",components:{snTextarea:p,snRadio:h,snCheckbox:f,snSelect:a({render:m,staticRenderFns:[]},function(n){n&&n("data-v-7af8bd67_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"select.vue"},media:void 0})},i,"data-v-7af8bd67",!1,void 0,!1,d,void 0,void 0)},props:{inline:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!0},conditions:{type:Array,default:()=>[]},labelWidth:{type:String,default:"120px"}},data:function(){return{conditionForm:null}},watch:{conditionForm:{handler:function(){this.onChange()},deep:!0}},created:function(){this.createConditionForm()},mounted:function(){this.initFormSubmit()},methods:{onChange:function(){var n={...this.conditionForm};this.$emit("on-form-change",n)},createEleTag:function(n){return e[n]||"el-input"},createConditionForm:function(){var n=this.conditions;this.conditionForm=r(n)},onSubmit:function(){},onClear:function(){this.createConditionForm(),this.$emit("on-clear",{...this.conditionForm}),this.resetForm()},initFormSubmit:function(){var n={...this.conditionForm};this.$emit("on-submit",n)},submitForm:async function(){if(await this.$refs.formName.validate()){var n={...this.conditionForm};return this.$emit("on-submit",n),n}return!1},resetForm:function(){this.$refs.formName.resetFields()}}});h=function(){var m=this,n=m.$createElement,h=m._self._c||n;return m.conditionForm?h("div",{staticClass:"dynamicsForm"},[h("el-form",{directives:[{name:"show",rawName:"v-show",value:m.conditions.length,expression:"conditions.length"}],ref:"formName",attrs:{model:m.conditionForm,"label-width":m.labelWidth,inline:m.inline,size:"mini"}},[m._l(m.conditions,function(n,e){var t=n.label,r=n.key,i=n.type,a=n.options,o=n.placeholder,s=n.prepend,l=n.append,d=n.rules;void 0===d&&(d=[]);var c=n.filterable,u=n.disabled,n=function(n,e){var t,r={};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&-1===e.indexOf(t)&&(r[t]=n[t]);return r}(n,["label","key","type","options","placeholder","prepend","append","rules","filterable","disabled"]);return h("el-form-item",{key:e,attrs:{label:t,"label-width":n.labelWidth,rules:d,prop:r}},[h("div",{staticClass:"flex-middle"},[h("div",{staticClass:"text-oneline"},[m._v(m._s(s||""))]),m._v(" "),h(m.createEleTag(i),{tag:"component",staticStyle:{width:"100%"},attrs:{placeholder:o||("input"==i?"请输入":"请选择"),options:a,type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",filterable:c,disabled:u},model:{value:m.conditionForm[r],callback:function(n){m.$set(m.conditionForm,r,n)},expression:"conditionForm[key]"}}),m._v(" "),h("div",{staticClass:"text-oneline"},[m._v(m._s(l||""))])],1)])}),m._v(" "),h("el-form-item",{directives:[{name:"show",rawName:"v-show",value:m.showBtn,expression:"showBtn"}]},[h("el-button",{attrs:{type:"primary",size:"mini"},on:{click:m.submitForm}},[m._v("搜索")]),m._v(" "),h("el-button",{attrs:{size:"mini"},on:{click:m.onClear}},[m._v("取消")])],1)],2)],1):m._e()},h._withStripped=!0,f=a({render:h,staticRenderFns:[]},function(n){n&&n("data-v-5a436f4b_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"dynamicsForm.vue"},media:void 0})},p,"data-v-5a436f4b",!1,void 0,!1,d,void 0,void 0),m={name:"DynamicsText",components:{},props:{inline:{type:Boolean,default:!1},conditions:{type:Array,default:()=>[]},labelWidth:{type:String,default:"120px"}},data:function(){return{conditionForm:null}},watch:{},created:function(){this.createConditionForm()},mounted:function(){},methods:{createConditionForm:function(){var n=this.conditions;this.conditionForm=r(n)}}};var i=function(){var a=this,n=a.$createElement,o=a._self._c||n;return a.conditionForm?o("div",{staticClass:"dynamicsText"},[o("el-form",{directives:[{name:"show",rawName:"v-show",value:a.conditions.length,expression:"conditions.length"}],ref:"form",attrs:{model:a.conditionForm,"label-width":a.labelWidth,inline:a.inline,size:"mini"}},a._l(a.conditions,function(n,e){var t=n.label,r=n.key,i=n.render,n=function(n,e){var t,r={};for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&-1===e.indexOf(t)&&(r[t]=n[t]);return r}(n,["label","key","render"]);return o("el-form-item",{key:e,attrs:{label:t,"label-width":n.labelWidth}},[i?o("sn-render",{attrs:{render:i,data:{value:a.conditionForm[r],formdata:a.conditionForm}}}):[a._v("\n        "+a._s(a.conditionForm[r])+"\n      ")]],2)}),1)],1):a._e()},h=(i._withStripped=!0,{name:"FormModal",components:{snDynamicsForm:f,snDynamicsText:a({render:i,staticRenderFns:[]},function(n){n&&n("data-v-8f24022e_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"dynamicsText.vue"},media:void 0})},m,"data-v-8f24022e",!1,void 0,!1,d,void 0,void 0)},props:{type:{type:String,default:"form"},width:{type:String,default:"480px"},title:{type:String,default:"编辑"},value:{type:Boolean,default:!0},editorConditions:{type:Array,default:()=>[{label:"名称",key:"name",type:"input"}]}},data:function(){return{showDialog:!1}},watch:{showDialog:function(n){this.$emit("input",n)},value:function(n){this.showDialog=n}},created:function(){},mounted:function(){},methods:{cancel:function(){this.showDialog=!1,this.onCancel&&this.onCancel(),this.$emit("on-cancel"),this.$refs.formData.resetForm()},submit:async function(){var n=await this.$refs.formData.submitForm();this.$emit("on-submit",n),this.onSubmit&&n&&(this.showDialog=!1,this.onSubmit(n))}}}),p=function(){var e=this,n=e.$createElement,n=e._self._c||n;return n("el-dialog",{attrs:{title:e.title,visible:e.showDialog,width:e.width},on:{"update:visible":function(n){e.showDialog=n}}},["form"===e.type?n("sn-dynamics-form",{ref:"formData",attrs:{conditions:e.editorConditions,"show-btn":!1}}):n("snDynamicsText",{attrs:{conditions:e.editorConditions,"show-btn":!1}}),e._v(" "),"form"===e.type?n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])],1):e._e()],1)},v=(p._withStripped=!0,a({render:p,staticRenderFns:[]},function(n){n&&n("data-v-f691c1a2_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"formModal.vue"},media:void 0})},h,"data-v-f691c1a2",!1,void 0,!1,d,void 0,void 0)),i={name:"render",props:{render:{type:Function,default:n=>n},data:{type:Object,default:()=>({})}},render:function(n){return this.render(n,this.data)}},m={name:"TableIndex",components:{snDynamicsForm:f,render:i},props:{conditions:{type:Array,default:()=>[]},tableHeader:{type:Array,default:()=>[]},tableData:{type:Array,default:()=>[]},selection:{type:Boolean,default:!0},totalPage:{type:Number,default:0}},data:function(){return{editorFormConditions:[],multipleSelection:[],currentPage:1,pageSize:10,pageSizes:[10,20,50,100,300,500]}},watch:{},created:function(){var{currentPage:n,pageSize:e}=this;this.tableParam={currentPage:n,pageSize:e}},mounted:function(){},methods:{onSubmit:function(n){console.log(n),this.onGetTableData(n)},onClear:function(n){console.log(n),this.onGetTableData(n)},handleEdit:function(n,e){var t,o;this.editorFormConditions=(t=this.editorConditions,o=e,(t||[]).reduce((n,e)=>{s(e);const{label:t,key:r,type:i,...a}=e;return n.push({...a,label:t||r,key:r,value:l(o[r]),type:i}),n},[])),this.showDialog=!0},handleDelete:function(n,e){console.log(n,e)},handleSelectionChange:function(n){this.multipleSelection=n,console.log(n)},handleSizeChange:function(n){var{currentPage:e}=this,n=this.pageSize=n;this.onPageChange(e,n)},handleCurrentChange:function(n){var{currentPage:e,pageSize:t}=this;this.onPageChange(e,t)},onPageChange:function(n,e){this.$emit("on-page-change",{currentPage:n,pageSize:e}),this.onGetTableData({currentPage:n,pageSize:e})},onGetTableData:function(n={}){n=this.tableParam={...this.tableParam||{},...n};console.log(n),this.$emit("on-table-data",n)},onFormChange:function(n){this.$emit("on-condition-change",n)}}},p=function(){var o=this,n=o.$createElement,s=o._self._c||n;return s("div",{staticClass:"table-index"},[s("sn-dynamics-form",{attrs:{inline:"","label-width":"80px",conditions:o.conditions},on:{"on-submit":o.onSubmit,"on-clear":o.onClear,"on-form-change":o.onFormChange}}),o._v(" "),s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:o.tableData,border:""},on:{"selection-change":o.handleSelectionChange}},[o._l(o.tableHeader,function(n,e){var t=n.label,r=n.key,i=n.width,a=n.render,n=n.type;return[s("el-table-column","selection"===n?{key:e,attrs:{type:"selection",width:"55"}}:{key:e,attrs:{label:t,"min-width":i},scopedSlots:o._u([{key:"default",fn:function(n){return[a?[s("render",{attrs:{render:a,data:{index:n.$index,row:n.row}}})]:[o._v("\n            "+o._s(n.row[r])+"\n          ")]]}}],null,!0)})]})],2),o._v(" "),s("div",{staticStyle:{"margin-top":"20px"}},[s("el-pagination",{attrs:{"current-page":o.currentPage,"page-sizes":o.pageSizes,"page-size":o.pageSize,background:"",layout:"total, sizes, prev, pager, next, jumper",total:o.totalPage},on:{"update:currentPage":function(n){o.currentPage=n},"update:current-page":function(n){o.currentPage=n},"size-change":o.handleSizeChange,"current-change":o.handleCurrentChange}})],1)],1)},h=(p._withStripped=!0,a({render:p,staticRenderFns:[]},function(n){n&&n("data-v-dc5c7a08_0",{source:"\n.table-index[data-v-dc5c7a08] {\n}\r\n",map:{version:3,sources:["D:\\sanben\\sn-table\\src\\table.vue"],names:[],mappings:";AA+JA;AACA",file:"table.vue",sourcesContent:['<template>\r\n  <div class="table-index">\r\n    <sn-dynamics-form\r\n      inline\r\n      label-width="80px"\r\n      :conditions="conditions"\r\n      @on-submit="onSubmit"\r\n      @on-clear="onClear"\r\n      @on-form-change="onFormChange"\r\n    />\r\n\r\n    <el-table\r\n      ref="multipleTable"\r\n      :data="tableData"\r\n      border\r\n      style="width: 100%"\r\n      @selection-change="handleSelectionChange"\r\n    >\r\n      <template v-for="({ label, key, width, render, type }, index) in tableHeader">\r\n        <el-table-column\r\n          v-if="type === \'selection\'"\r\n          :key="index"\r\n          type="selection"\r\n          width="55"\r\n        />\r\n\r\n        <el-table-column v-else :key="index" :label="label" :min-width="width">\r\n          <template slot-scope="scope">\r\n            <template v-if="!render">\r\n              {{ scope.row[key] }}\r\n            </template>\r\n            <template v-else>\r\n              <render :render="render" :data="{ index: scope.$index, row: scope.row }" />\r\n            </template>\r\n          </template>\r\n        </el-table-column>\r\n      </template>\r\n    </el-table>\r\n    <div style="margin-top: 20px">\r\n      <el-pagination\r\n        :current-page.sync="currentPage"\r\n        :page-sizes="pageSizes"\r\n        :page-size="pageSize"\r\n        background\r\n        layout="total, sizes, prev, pager, next, jumper"\r\n        :total="totalPage"\r\n        @size-change="handleSizeChange"\r\n        @current-change="handleCurrentChange"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createFormData } from \'./tools\'\r\nimport snDynamicsForm from \'./dynamicsForm.vue\'\r\nimport render from \'./render.js\'\r\nexport default {\r\n  name: \'TableIndex\',\r\n  components: {\r\n    snDynamicsForm,\r\n    render\r\n  },\r\n  props: {\r\n    conditions: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    tableHeader: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    tableData: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    selection: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    totalPage: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editorFormConditions: [],\r\n      multipleSelection: [],\r\n      currentPage: 1,\r\n      // totalPage: 1000,\r\n      pageSize: 10,\r\n      pageSizes: [10, 20, 50, 100, 300, 500]\r\n    }\r\n  },\r\n\r\n  watch: {},\r\n  created() {\r\n    const { currentPage, pageSize } = this\r\n    this.tableParam = {\r\n      currentPage,\r\n      pageSize\r\n    }\r\n  },\r\n\r\n  mounted() {},\r\n  methods: {\r\n    // 筛选参数\r\n    onSubmit(conditons) {\r\n      console.log(conditons)\r\n      this.onGetTableData(conditons)\r\n    },\r\n    onClear(conditons) {\r\n      console.log(conditons)\r\n      this.onGetTableData(conditons)\r\n    },\r\n    handleEdit(index, row) {\r\n      this.editorFormConditions = createFormData(this.editorConditions, row)\r\n      this.showDialog = true\r\n    },\r\n    handleDelete(index, row) {\r\n      console.log(index, row)\r\n    },\r\n\r\n    // 选择列表\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val\r\n      console.log(val)\r\n    },\r\n\r\n    // 分页\r\n    handleSizeChange(e) {\r\n      const { currentPage } = this\r\n      const pageSize = (this.pageSize = e)\r\n      this.onPageChange(currentPage, pageSize)\r\n    },\r\n    handleCurrentChange(e) {\r\n      const { currentPage, pageSize } = this\r\n      this.onPageChange(currentPage, pageSize)\r\n    },\r\n    onPageChange(currentPage, pageSize) {\r\n      this.$emit(\'on-page-change\', { currentPage, pageSize })\r\n      this.onGetTableData({ currentPage, pageSize })\r\n    },\r\n    // 调用接口\r\n    onGetTableData(arg = {}) {\r\n      const param = (this.tableParam = { ...(this.tableParam || {}), ...arg })\r\n      console.log(param)\r\n      this.$emit(\'on-table-data\', param)\r\n    },\r\n    //\r\n    onFormChange(param) {\r\n      this.$emit(\'on-condition-change\', param)\r\n    }\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped >\r\n.table-index {\r\n}\r\n</style>\r\n']},media:void 0})},m,"data-v-dc5c7a08",!1,void 0,!1,d,void 0,void 0)),f={name:"TableHeader",components:{},props:{title:{type:String,default:""}},data:function(){return{}},watch:{},created:function(){},mounted:function(){},methods:{}},p=function(){var n=this,e=n.$createElement,e=n._self._c||e;return e("div",{staticClass:"table-header flex-middle"},[e("div",{staticStyle:{"font-size":"16px","font-weight":"600"}},[n._v(n._s(n.title))]),n._v(" "),n._t("default")],2)},m=(p._withStripped=!0,a({render:p,staticRenderFns:[]},function(n){n&&n("data-v-60c958c2_0",{source:"\n.table-header[data-v-60c958c2] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\n}\r\n",map:{version:3,sources:["D:\\sanben\\sn-table\\src\\table-header.vue"],names:[],mappings:";AA4BA;EACA,aAAA;EACA,8BAAA;EACA,cAAA;AACA",file:"table-header.vue",sourcesContent:["<template>\r\n  <div class=\"table-header flex-middle\">\r\n    <div style=\"font-size: 16px; font-weight: 600\">{{ title }}</div>\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TableHeader',\r\n  components: {},\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  watch: {},\r\n  created() {},\r\n  mounted() {},\r\n  methods: {}\r\n}\r\n<\/script>\r\n\r\n<style scoped >\r\n.table-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\r\n}\r\n</style>\r\n"]},media:void 0})},f,"data-v-60c958c2",!1,void 0,!1,d,void 0,void 0)),p={name:"Box",components:{},props:{},data:function(){return{}},watch:{},created:function(){},mounted:function(){},methods:{}},f=function(){var n=this.$createElement;return(this._self._c||n)("div",{staticClass:"box"},[this._t("default")],2)};f._withStripped=!0;const g=[{name:"sn-form-modal",component:v},{name:"sn-table",component:h},{name:"sn-render",component:i},{name:"sn-table-header",component:m},{name:"sn-box",component:a({render:f,staticRenderFns:[]},function(n){n&&n("data-v-19fc18e2_0",{source:"\n.box[data-v-19fc18e2] {\r\n  padding: 10px;\n}\r\n",map:{version:3,sources:["D:\\sanben\\sn-table\\src\\box.vue"],names:[],mappings:";AAsBA;EACA,aAAA;AACA",file:"box.vue",sourcesContent:["<template>\r\n  <div class=\"box\">\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Box',\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {}\r\n  },\r\n  watch: {},\r\n  created() {},\r\n  mounted() {},\r\n  methods: {}\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n.box {\r\n  padding: 10px;\r\n}\r\n</style>\r\n"]},media:void 0})},p,"data-v-19fc18e2",!1,void 0,!1,d,void 0,void 0)}];return{install:function(t,n){t.prototype.$formModal=function(n,e){const o=n.extend({extends:e});return({editorConditions:n=[],onSubmit:e=n=>n,onClose:t=n=>n,type:r="form",...i})=>{const a=(new o).$mount();return Object.assign(a,{editorConditions:n,type:r,onSubmit:e,onClose:t,...i}),document.querySelector("body").appendChild(a.$el),a.showDialog=!0,a}}(t,v),g.forEach(({name:n,component:e})=>{t.component(n,e)})}}}();
