"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var n,e=(function(n,e){n.exports=function(){var n="millisecond",e="second",t="minute",r="hour",a="day",i="week",o="month",s="quarter",l="year",d="date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,u=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h=function(n,e,t){var r=String(n);return!r||r.length>=e?n:""+Array(e+1-r.length).join(t)+n},p={s:h,z:function(n){var e=-n.utcOffset(),t=Math.abs(e),r=Math.floor(t/60),a=t%60;return(e<=0?"+":"-")+h(r,2,"0")+":"+h(a,2,"0")},m:function n(e,t){if(e.date()<t.date())return-n(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,o),i=t-a<0,s=e.clone().add(r+(i?-1:1),o);return+(-(r+(t-a)/(i?a-s:s-a))||0)},a:function(n){return n<0?Math.ceil(n)||0:Math.floor(n)},p:function(c){return{M:o,y:l,w:i,d:a,D:d,h:r,m:t,s:e,ms:n,Q:s}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(n){return void 0===n}},f="en",v={};v[f]=m;var g=function(n){return n instanceof S},y=function(n,e,t){var r;if(!n)return f;if("string"==typeof n)v[n]&&(r=n),e&&(v[n]=e,r=n);else{var a=n.name;v[a]=n,r=a}return!t&&r&&(f=r),r||!t&&f},b=function(n,e){if(g(n))return n.clone();var t="object"==typeof e?e:{};return t.date=n,t.args=arguments,new S(t)},$=p;$.l=y,$.i=g,$.w=function(n,e){return b(n,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function m(n){this.$L=y(n.locale,null,!0),this.parse(n)}var h=m.prototype;return h.parse=function(n){this.$d=function(n){var e=n.date,t=n.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(c);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return t?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(n),this.$x=n.x||{},this.init()},h.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},h.$utils=function(){return $},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(n,e){var t=b(n);return this.startOf(e)<=t&&t<=this.endOf(e)},h.isAfter=function(n,e){return b(n)<this.startOf(e)},h.isBefore=function(n,e){return this.endOf(e)<b(n)},h.$g=function(n,e,t){return $.u(n)?this[e]:this.set(t,n)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(n,s){var c=this,u=!!$.u(s)||s,m=$.p(n),h=function(n,e){var t=$.w(c.$u?Date.UTC(c.$y,e,n):new Date(c.$y,e,n),c);return u?t:t.endOf(a)},p=function(n,e){return $.w(c.toDate()[n].apply(c.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},f=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(m){case l:return u?h(1,0):h(31,11);case o:return u?h(1,v):h(0,v+1);case i:var b=this.$locale().weekStart||0,S=(f<b?f+7:f)-b;return h(u?g-S:g+(6-S),v);case a:case d:return p(y+"Hours",0);case r:return p(y+"Minutes",1);case t:return p(y+"Seconds",2);case e:return p(y+"Milliseconds",3);default:return this.clone()}},h.endOf=function(n){return this.startOf(n,!1)},h.$set=function(i,s){var c,u=$.p(i),m="set"+(this.$u?"UTC":""),h=(c={},c[a]=m+"Date",c[d]=m+"Date",c[o]=m+"Month",c[l]=m+"FullYear",c[r]=m+"Hours",c[t]=m+"Minutes",c[e]=m+"Seconds",c[n]=m+"Milliseconds",c)[u],p=u===a?this.$D+(s-this.$W):s;if(u===o||u===l){var f=this.clone().set(d,1);f.$d[h](p),f.init(),this.$d=f.set(d,Math.min(this.$D,f.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},h.set=function(n,e){return this.clone().$set(n,e)},h.get=function(n){return this[$.p(n)]()},h.add=function(n,s){var d,c=this;n=Number(n);var u=$.p(s),m=function(e){var t=b(c);return $.w(t.date(t.date()+Math.round(e*n)),c)};if(u===o)return this.set(o,this.$M+n);if(u===l)return this.set(l,this.$y+n);if(u===a)return m(1);if(u===i)return m(7);var h=(d={},d[t]=6e4,d[r]=36e5,d[e]=1e3,d)[u]||1,p=this.$d.getTime()+n*h;return $.w(p,this)},h.subtract=function(n,e){return this.add(-1*n,e)},h.format=function(n){var e=this;if(!this.isValid())return"Invalid Date";var t=n||"YYYY-MM-DDTHH:mm:ssZ",r=$.z(this),a=this.$locale(),i=this.$H,o=this.$m,s=this.$M,l=a.weekdays,d=a.months,c=function(n,r,a,i){return n&&(n[r]||n(e,t))||a[r].substr(0,i)},m=function(n){return $.s(i%12||12,n,"0")},h=a.meridiem||function(n,e,t){var r=n<12?"AM":"PM";return t?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:$.s(s+1,2,"0"),MMM:c(a.monthsShort,s,d,3),MMMM:c(d,s),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:c(a.weekdaysMin,this.$W,l,2),ddd:c(a.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:$.s(i,2,"0"),h:m(1),hh:m(2),a:h(i,o,!0),A:h(i,o,!1),m:String(o),mm:$.s(o,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:r};return t.replace(u,(function(n,e){return e||p[n]||r.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(n,d,c){var u,m=$.p(d),h=b(n),p=6e4*(h.utcOffset()-this.utcOffset()),f=this-h,v=$.m(this,h);return v=(u={},u[l]=v/12,u[o]=v,u[s]=v/3,u[i]=(f-p)/6048e5,u[a]=(f-p)/864e5,u[r]=f/36e5,u[t]=f/6e4,u[e]=f/1e3,u)[m]||f,c?v:$.a(v)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return v[this.$L]},h.locale=function(n,e){if(!n)return this.$L;var t=this.clone(),r=y(n,e,!0);return r&&(t.$L=r),t},h.clone=function(){return $.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},m}(),w=S.prototype;return b.prototype=w,[["$ms",n],["$s",e],["$m",t],["$H",r],["$W",a],["$M",o],["$y",l],["$D",d]].forEach((function(n){w[n[1]]=function(e){return this.$g(e,n[0],n[1])}})),b.extend=function(n,e){return n.$i||(n(e,S,b),n.$i=!0),b},b.locale=y,b.isDayjs=g,b.unix=function(n){return b(1e3*n)},b.en=v[f],b.Ls=v,b.p={},b}()}(n={exports:{}},n.exports),n.exports);function t(n){n.label&&n.key||console.error("筛选条件的每一项都要有 label 和 key 字段")}function r(n,t){switch(t){case"checkbox":return n||[];case"date":return e(n).format("YYYY-MM-DD HH:mm:ss");default:return n}}const a={input:"el-input",select:"sn-select",date:"el-date-picker",textarea:"sn-textarea",radio:"sn-radio",checkbox:"sn-checkbox"};function i(n){const e={};return(n||[]).reduce(((n,e)=>(t(e),n[e.key]=r(e.value,e.type),n)),e),e}var o={name:"SnTextarea",components:{},props:{value:{type:[String],default:""},placeholder:{type:[String],default:""}},data:()=>({}),watch:{},created(){},mounted(){},methods:{}};function s(n,e,t,r,a,i,o,s,l,d){"boolean"!=typeof o&&(l=s,s=o,o=!1);const c="function"==typeof t?t.options:t;let u;if(n&&n.render&&(c.render=n.render,c.staticRenderFns=n.staticRenderFns,c._compiled=!0,a&&(c.functional=!0)),r&&(c._scopeId=r),i?(u=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,l(n)),n&&n._registeredComponents&&n._registeredComponents.add(i)},c._ssrRegister=u):e&&(u=o?function(n){e.call(this,d(n,this.$root.$options.shadowRoot))}:function(n){e.call(this,s(n))}),u)if(c.functional){const n=c.render;c.render=function(e,t){return u.call(t),n(e,t)}}else{const n=c.beforeCreate;c.beforeCreate=n?[].concat(n,u):[u]}return t}const l="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function d(n){return(n,e)=>function(n,e){const t=l?e.media||"default":n,r=u[t]||(u[t]={ids:new Set,styles:[]});if(!r.ids.has(n)){r.ids.add(n);let t=e.source;if(e.map&&(t+="\n/*# sourceURL="+e.map.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),void 0===c&&(c=document.head||document.getElementsByTagName("head")[0]),c.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(t),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{const n=r.ids.size-1,e=document.createTextNode(t),a=r.element.childNodes;a[n]&&r.element.removeChild(a[n]),a.length?r.element.insertBefore(e,a[n]):r.element.appendChild(e)}}}(n,e)}let c;const u={};const m=o;var h=function(){var n=this,e=n.$createElement;return(n._self._c||e)("el-input",{attrs:{value:n.value,placeholder:n.placeholder||"请选择",type:"textarea"},on:{input:function(e){return n.$emit("input",e)}}})};h._withStripped=!0;const p=s({render:h,staticRenderFns:[]},(function(n){n&&n("data-v-d5e204ae_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"textarea.vue"},media:void 0})}),m,"data-v-d5e204ae",false,undefined,!1,d,void 0,void 0);const f={name:"SnRadio",components:{},props:{value:{type:[String,Number,Array],default:""},options:{type:Array,default:()=>[]}},data:()=>({}),watch:{},created(){},mounted(){},methods:{onChange(n){this.$emit("input",n)}}};var v=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-radio-group",{staticClass:"radio",attrs:{value:n.value},on:{input:n.onChange}},n._l(n.options,(function(e){return t("el-radio",{key:e.value,attrs:{label:e.value}},[n._v(n._s(e.label))])})),1)};v._withStripped=!0;const g=s({render:v,staticRenderFns:[]},(function(n){n&&n("data-v-bc489f6a_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"radio.vue"},media:void 0})}),f,"data-v-bc489f6a",false,undefined,!1,d,void 0,void 0);const y={name:"SnCheckbox",components:{},props:{value:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},data:()=>({}),watch:{},created(){},mounted(){},methods:{}};var b=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-checkbox-group",{staticClass:"checkbox",attrs:{value:n.value},on:{input:function(e){return n.$emit("input",e)}}},n._l(n.options,(function(e){return t("el-checkbox",{key:e.value,attrs:{label:e.value}},[n._v(n._s(e.label))])})),1)};b._withStripped=!0;const $=s({render:b,staticRenderFns:[]},(function(n){n&&n("data-v-46f5cf9a_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"checkbox.vue"},media:void 0})}),y,"data-v-46f5cf9a",false,undefined,!1,d,void 0,void 0);const S={name:"SnSelect",components:{},props:{value:{type:[String,Number,Array],default:""},options:{type:Array,default:()=>[]},filterable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:()=>({}),watch:{},created(){},mounted(){},methods:{onChange(n){this.$emit("input",n)}}};var w=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-select",{staticClass:"radio",attrs:{value:n.value,filterable:n.filterable,disabled:n.disabled},on:{input:n.onChange}},n._l(n.options,(function(n){return t("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})})),1)};w._withStripped=!0;const _={name:"DynamicsForm",components:{snTextarea:p,snRadio:g,snCheckbox:$,snSelect:s({render:w,staticRenderFns:[]},(function(n){n&&n("data-v-7af8bd67_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"select.vue"},media:void 0})}),S,"data-v-7af8bd67",false,undefined,!1,d,void 0,void 0)},props:{inline:{type:Boolean,default:!1},showBtn:{type:Boolean,default:!0},conditions:{type:Array,default:()=>[]},labelWidth:{type:String,default:"120px"}},data:()=>({conditionForm:null}),watch:{conditionForm:{handler(){this.onChange()},deep:!0}},created(){this.createConditionForm()},mounted(){this.initFormSubmit()},methods:{onChange(){const n={...this.conditionForm};this.$emit("on-form-change",n)},createEleTag:n=>(n=>a[n]||"el-input")(n),createConditionForm(){const n=this.conditions;this.conditionForm=i(n)},onSubmit(){},onClear(){this.createConditionForm(),this.$emit("on-clear",{...this.conditionForm}),this.resetForm()},initFormSubmit(){const n={...this.conditionForm};this.$emit("on-submit",n)},async submitForm(){if(await this.$refs.formName.validate()){const n={...this.conditionForm};return this.$emit("on-submit",n),n}return!1},resetForm(){this.$refs.formName.resetFields()}}};var C=function(){var n=this,e=n.$createElement,t=n._self._c||e;return n.conditionForm?t("div",{staticClass:"dynamicsForm"},[t("el-form",{directives:[{name:"show",rawName:"v-show",value:n.conditions.length,expression:"conditions.length"}],ref:"formName",attrs:{model:n.conditionForm,"label-width":n.labelWidth,inline:n.inline,size:"mini"}},[n._l(n.conditions,(function(e,r){var a=e.label,i=e.key,o=e.type,s=e.options,l=e.placeholder,d=e.prepend,c=e.append,u=e.rules;void 0===u&&(u=[]);var m=e.filterable,h=e.disabled,p=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(e,["label","key","type","options","placeholder","prepend","append","rules","filterable","disabled"]);return t("el-form-item",{key:r,attrs:{label:a,"label-width":p.labelWidth,rules:u,prop:i}},[t("div",{staticClass:"flex-middle"},[t("div",{staticClass:"text-oneline"},[n._v(n._s(d||""))]),n._v(" "),t(n.createEleTag(o),{tag:"component",staticStyle:{width:"100%"},attrs:{placeholder:l||("input"==o?"请输入":"请选择"),options:s,type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",filterable:m,disabled:h},model:{value:n.conditionForm[i],callback:function(e){n.$set(n.conditionForm,i,e)},expression:"conditionForm[key]"}}),n._v(" "),t("div",{staticClass:"text-oneline"},[n._v(n._s(c||""))])],1)])})),n._v(" "),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:n.showBtn,expression:"showBtn"}]},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:n.submitForm}},[n._v("搜索")]),n._v(" "),t("el-button",{attrs:{size:"mini"},on:{click:n.onClear}},[n._v("取消")])],1)],2)],1):n._e()};C._withStripped=!0;const x=s({render:C,staticRenderFns:[]},(function(n){n&&n("data-v-5a436f4b_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"dynamicsForm.vue"},media:void 0})}),_,"data-v-5a436f4b",false,undefined,!1,d,void 0,void 0);const D={name:"DynamicsText",components:{},props:{inline:{type:Boolean,default:!1},conditions:{type:Array,default:()=>[]},labelWidth:{type:String,default:"120px"}},data:()=>({conditionForm:null}),watch:{},created(){this.createConditionForm()},mounted(){},methods:{createConditionForm(){const n=this.conditions;this.conditionForm=i(n)}}};var F=function(){var n=this,e=n.$createElement,t=n._self._c||e;return n.conditionForm?t("div",{staticClass:"dynamicsText"},[t("el-form",{directives:[{name:"show",rawName:"v-show",value:n.conditions.length,expression:"conditions.length"}],ref:"form",attrs:{model:n.conditionForm,"label-width":n.labelWidth,inline:n.inline,size:"mini"}},n._l(n.conditions,(function(e,r){var a=e.label,i=e.key,o=e.render,s=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===e.indexOf(r)&&(t[r]=n[r]);return t}(e,["label","key","render"]);return t("el-form-item",{key:r,attrs:{label:a,"label-width":s.labelWidth}},[o?t("sn-render",{attrs:{render:o,data:{value:n.conditionForm[i],formdata:n.conditionForm}}}):[n._v("\n        "+n._s(n.conditionForm[i])+"\n      ")]],2)})),1)],1):n._e()};F._withStripped=!0;const A={name:"FormModal",components:{snDynamicsForm:x,snDynamicsText:s({render:F,staticRenderFns:[]},(function(n){n&&n("data-v-8f24022e_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"dynamicsText.vue"},media:void 0})}),D,"data-v-8f24022e",false,undefined,!1,d,void 0,void 0)},props:{type:{type:String,default:"form"},width:{type:String,default:"480px"},title:{type:String,default:"编辑"},value:{type:Boolean,default:!0},editorConditions:{type:Array,default:()=>[{label:"名称",key:"name",type:"input"}]}},data:()=>({showDialog:!1}),watch:{showDialog(n){this.$emit("input",n)},value(n){this.showDialog=n}},created(){},mounted(){},methods:{cancel(){this.showDialog=!1,this.onCancel&&this.onCancel(),this.$emit("on-cancel"),this.$refs.formData.resetForm()},async submit(){const n=await this.$refs.formData.submitForm();this.$emit("on-submit",n),this.onSubmit&&n&&(this.showDialog=!1,this.onSubmit(n))}}};var M=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("el-dialog",{attrs:{title:n.title,visible:n.showDialog,width:n.width},on:{"update:visible":function(e){n.showDialog=e}}},["form"===n.type?t("sn-dynamics-form",{ref:"formData",attrs:{conditions:n.editorConditions,"show-btn":!1}}):t("snDynamicsText",{attrs:{conditions:n.editorConditions,"show-btn":!1}}),n._v(" "),"form"===n.type?t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:n.cancel}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:n.submit}},[n._v("确认")])],1):n._e()],1)};M._withStripped=!0;const k=s({render:M,staticRenderFns:[]},(function(n){n&&n("data-v-f691c1a2_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"formModal.vue"},media:void 0})}),A,"data-v-f691c1a2",false,undefined,!1,d,void 0,void 0);var z={name:"render",props:{render:{type:Function,default:n=>n},data:{type:Object,default:()=>({})}},render(n){return this.render(n,this.data)}};const T={name:"TableIndex",components:{snDynamicsForm:x,render:z},props:{conditions:{type:Array,default:()=>[]},tableHeader:{type:Array,default:()=>[]},tableData:{type:Array,default:()=>[]},selection:{type:Boolean,default:!0},totalPage:{type:Number,default:0}},data:()=>({editorFormConditions:[],multipleSelection:[],currentPage:1,pageSize:10,pageSizes:[10,20,50,100,300,500]}),watch:{},created(){const{currentPage:n,pageSize:e}=this;this.tableParam={currentPage:n,pageSize:e}},mounted(){},methods:{onSubmit(n){console.log(n),this.onGetTableData(n)},onClear(n){console.log(n),this.onGetTableData(n)},handleEdit(n,e){var a,i;this.editorFormConditions=(a=this.editorConditions,i=e,(a||[]).reduce(((n,e)=>{t(e);const{label:a,key:o,type:s,...l}=e;return n.push({...l,label:a||o,key:o,value:r(i[o]),type:s}),n}),[])),this.showDialog=!0},handleDelete(n,e){console.log(n,e)},handleSelectionChange(n){this.multipleSelection=n,console.log(n)},handleSizeChange(n){const{currentPage:e}=this,t=this.pageSize=n;this.onPageChange(e,t)},handleCurrentChange(n){const{currentPage:e,pageSize:t}=this;this.onPageChange(e,t)},onPageChange(n,e){this.$emit("on-page-change",{currentPage:n,pageSize:e}),this.onGetTableData({currentPage:n,pageSize:e})},onGetTableData(n={}){const e=this.tableParam={...this.tableParam||{},...n};console.log(e),this.$emit("on-table-data",e)},onFormChange(n){this.$emit("on-condition-change",n)}}};var P=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"table-index"},[t("sn-dynamics-form",{attrs:{inline:"","label-width":"80px",conditions:n.conditions},on:{"on-submit":n.onSubmit,"on-clear":n.onClear,"on-form-change":n.onFormChange}}),n._v(" "),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:n.tableData,border:""},on:{"selection-change":n.handleSelectionChange}},[n._l(n.tableHeader,(function(e,r){var a=e.label,i=e.key,o=e.width,s=e.render,l=e.type;return[t("el-table-column","selection"===l?{key:r,attrs:{type:"selection",width:"55"}}:{key:r,attrs:{label:a,"min-width":o},scopedSlots:n._u([{key:"default",fn:function(e){return[s?[t("render",{attrs:{render:s,data:{index:e.$index,row:e.row}}})]:[n._v("\n            "+n._s(e.row[i])+"\n          ")]]}}],null,!0)})]}))],2),n._v(" "),t("div",{staticStyle:{"margin-top":"20px"}},[t("el-pagination",{attrs:{"current-page":n.currentPage,"page-sizes":n.pageSizes,"page-size":n.pageSize,background:"",layout:"total, sizes, prev, pager, next, jumper",total:n.totalPage},on:{"update:currentPage":function(e){n.currentPage=e},"update:current-page":function(e){n.currentPage=e},"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)],1)};P._withStripped=!0;const O=s({render:P,staticRenderFns:[]},(function(n){n&&n("data-v-dc5c7a08_0",{source:"\n.table-index[data-v-dc5c7a08] {\n}\r\n",map:{version:3,sources:["D:\\sanben\\sn-table\\src\\table.vue"],names:[],mappings:";AA+JA;AACA",file:"table.vue",sourcesContent:['<template>\r\n  <div class="table-index">\r\n    <sn-dynamics-form\r\n      inline\r\n      label-width="80px"\r\n      :conditions="conditions"\r\n      @on-submit="onSubmit"\r\n      @on-clear="onClear"\r\n      @on-form-change="onFormChange"\r\n    />\r\n\r\n    <el-table\r\n      ref="multipleTable"\r\n      :data="tableData"\r\n      border\r\n      style="width: 100%"\r\n      @selection-change="handleSelectionChange"\r\n    >\r\n      <template v-for="({ label, key, width, render, type }, index) in tableHeader">\r\n        <el-table-column\r\n          v-if="type === \'selection\'"\r\n          :key="index"\r\n          type="selection"\r\n          width="55"\r\n        />\r\n\r\n        <el-table-column v-else :key="index" :label="label" :min-width="width">\r\n          <template slot-scope="scope">\r\n            <template v-if="!render">\r\n              {{ scope.row[key] }}\r\n            </template>\r\n            <template v-else>\r\n              <render :render="render" :data="{ index: scope.$index, row: scope.row }" />\r\n            </template>\r\n          </template>\r\n        </el-table-column>\r\n      </template>\r\n    </el-table>\r\n    <div style="margin-top: 20px">\r\n      <el-pagination\r\n        :current-page.sync="currentPage"\r\n        :page-sizes="pageSizes"\r\n        :page-size="pageSize"\r\n        background\r\n        layout="total, sizes, prev, pager, next, jumper"\r\n        :total="totalPage"\r\n        @size-change="handleSizeChange"\r\n        @current-change="handleCurrentChange"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createFormData } from \'./tools\'\r\nimport snDynamicsForm from \'./dynamicsForm.vue\'\r\nimport render from \'./render.js\'\r\nexport default {\r\n  name: \'TableIndex\',\r\n  components: {\r\n    snDynamicsForm,\r\n    render\r\n  },\r\n  props: {\r\n    conditions: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    tableHeader: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    tableData: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    selection: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    totalPage: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editorFormConditions: [],\r\n      multipleSelection: [],\r\n      currentPage: 1,\r\n      // totalPage: 1000,\r\n      pageSize: 10,\r\n      pageSizes: [10, 20, 50, 100, 300, 500]\r\n    }\r\n  },\r\n\r\n  watch: {},\r\n  created() {\r\n    const { currentPage, pageSize } = this\r\n    this.tableParam = {\r\n      currentPage,\r\n      pageSize\r\n    }\r\n  },\r\n\r\n  mounted() {},\r\n  methods: {\r\n    // 筛选参数\r\n    onSubmit(conditons) {\r\n      console.log(conditons)\r\n      this.onGetTableData(conditons)\r\n    },\r\n    onClear(conditons) {\r\n      console.log(conditons)\r\n      this.onGetTableData(conditons)\r\n    },\r\n    handleEdit(index, row) {\r\n      this.editorFormConditions = createFormData(this.editorConditions, row)\r\n      this.showDialog = true\r\n    },\r\n    handleDelete(index, row) {\r\n      console.log(index, row)\r\n    },\r\n\r\n    // 选择列表\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val\r\n      console.log(val)\r\n    },\r\n\r\n    // 分页\r\n    handleSizeChange(e) {\r\n      const { currentPage } = this\r\n      const pageSize = (this.pageSize = e)\r\n      this.onPageChange(currentPage, pageSize)\r\n    },\r\n    handleCurrentChange(e) {\r\n      const { currentPage, pageSize } = this\r\n      this.onPageChange(currentPage, pageSize)\r\n    },\r\n    onPageChange(currentPage, pageSize) {\r\n      this.$emit(\'on-page-change\', { currentPage, pageSize })\r\n      this.onGetTableData({ currentPage, pageSize })\r\n    },\r\n    // 调用接口\r\n    onGetTableData(arg = {}) {\r\n      const param = (this.tableParam = { ...(this.tableParam || {}), ...arg })\r\n      console.log(param)\r\n      this.$emit(\'on-table-data\', param)\r\n    },\r\n    //\r\n    onFormChange(param) {\r\n      this.$emit(\'on-condition-change\', param)\r\n    }\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped >\r\n.table-index {\r\n}\r\n</style>\r\n']},media:void 0})}),T,"data-v-dc5c7a08",false,undefined,!1,d,void 0,void 0);const E={name:"TableHeader",components:{},props:{title:{type:String,default:""}},data:()=>({}),watch:{},created(){},mounted(){},methods:{}};var H=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"table-header flex-middle"},[t("div",{staticStyle:{"font-size":"16px","font-weight":"600"}},[n._v(n._s(n.title))]),n._v(" "),n._t("default")],2)};H._withStripped=!0;const N=s({render:H,staticRenderFns:[]},(function(n){n&&n("data-v-60c958c2_0",{source:"\n.table-header[data-v-60c958c2] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\n}\r\n",map:{version:3,sources:["D:\\sanben\\sn-table\\src\\table-header.vue"],names:[],mappings:";AA4BA;EACA,aAAA;EACA,8BAAA;EACA,cAAA;AACA",file:"table-header.vue",sourcesContent:["<template>\r\n  <div class=\"table-header flex-middle\">\r\n    <div style=\"font-size: 16px; font-weight: 600\">{{ title }}</div>\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'TableHeader',\r\n  components: {},\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  watch: {},\r\n  created() {},\r\n  mounted() {},\r\n  methods: {}\r\n}\r\n<\/script>\r\n\r\n<style scoped >\r\n.table-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 10px 0;\r\n}\r\n</style>\r\n"]},media:void 0})}),E,"data-v-60c958c2",false,undefined,!1,d,void 0,void 0);const R={name:"Box",components:{},props:{},data:()=>({}),watch:{},created(){},mounted(){},methods:{}};var B=function(){var n=this,e=n.$createElement;return(n._self._c||e)("div",{staticClass:"box"},[n._t("default")],2)};B._withStripped=!0;const Y=[{name:"sn-form-modal",component:k},{name:"sn-table",component:O},{name:"sn-render",component:z},{name:"sn-table-header",component:N},{name:"sn-box",component:s({render:B,staticRenderFns:[]},(function(n){n&&n("data-v-19fc18e2_0",{source:"\n.box[data-v-19fc18e2] {\r\n  padding: 10px;\n}\r\n",map:{version:3,sources:["D:\\sanben\\sn-table\\src\\box.vue"],names:[],mappings:";AAsBA;EACA,aAAA;AACA",file:"box.vue",sourcesContent:["<template>\r\n  <div class=\"box\">\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Box',\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {}\r\n  },\r\n  watch: {},\r\n  created() {},\r\n  mounted() {},\r\n  methods: {}\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n.box {\r\n  padding: 10px;\r\n}\r\n</style>\r\n"]},media:void 0})}),R,"data-v-19fc18e2",false,undefined,!1,d,void 0,void 0)}],W={install:function(n,e){n.prototype.$formModal=function(n,e){const t=n.extend({extends:e});return({editorConditions:n=[],onSubmit:e=(n=>n),onClose:r=(n=>n),type:a="form",...i})=>{const o=(new t).$mount();return Object.assign(o,{editorConditions:n,type:a,onSubmit:e,onClose:r,...i}),document.querySelector("body").appendChild(o.$el),o.showDialog=!0,o}}(n,k),Y.forEach((({name:e,component:t})=>{n.component(e,t)}))}};export default W;
